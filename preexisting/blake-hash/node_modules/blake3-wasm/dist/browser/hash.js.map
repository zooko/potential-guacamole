{"version":3,"file":"hash.js","sourceRoot":"","sources":["../../src/browser/hash.ts"],"names":[],"mappings":";;;AAAA,+CAAgE;AAEhE;;GAEG;AACH,MAAa,IAAK,SAAQ,UAAU;IAClC;;OAEG;IACI,MAAM,CAAC,KAAc;QAC1B,IAAI,CAAC,CAAC,KAAK,YAAY,UAAU,CAAC,EAAE;YAClC,OAAO,KAAK,CAAC;SACd;QAED,IAAI,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,MAAM,EAAE;YAChC,OAAO,KAAK,CAAC;SACd;QAED,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACpC,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;SAC3B;QAED,OAAO,GAAG,KAAK,CAAC,CAAC;IACnB,CAAC;IAEM,QAAQ,CAAC,WAA4B,KAAK;QAC/C,OAAO,IAAA,4BAAc,EAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;CACF;AAxBD,oBAwBC","sourcesContent":["import { BrowserEncoding, mustGetEncoder } from './encoding.js';\n\n/**\n * Hash returned from functions in the browser.\n */\nexport class Hash extends Uint8Array {\n  /**\n   * A constant-time comparison against the other hash/array.\n   */\n  public equals(other: unknown): boolean {\n    if (!(other instanceof Uint8Array)) {\n      return false;\n    }\n\n    if (other.length !== this.length) {\n      return false;\n    }\n\n    let cmp = 0;\n    for (let i = 0; i < this.length; i++) {\n      cmp |= this[i] ^ other[i];\n    }\n\n    return cmp === 0;\n  }\n\n  public toString(encoding: BrowserEncoding = 'hex'): string {\n    return mustGetEncoder(encoding)(this);\n  }\n}\n"]}