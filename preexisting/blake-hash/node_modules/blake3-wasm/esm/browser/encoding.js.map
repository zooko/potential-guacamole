{"version":3,"file":"encoding.js","sourceRoot":"","sources":["../../src/browser/encoding.ts"],"names":[],"mappings":"AAAA,yEAAyE;AAIzE,MAAM,OAAO,GAAG,IAAI,WAAW,EAAE,CAAC;AAElC,MAAM,QAAQ,GAA6D;IACzE,yDAAyD;IACzD,MAAM,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,CAAC;IAEpD,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE;QACZ,IAAI,GAAG,GAAG,EAAE,CAAC;QACb,KAAK,MAAM,IAAI,IAAI,IAAI,EAAE;YACvB,IAAI,IAAI,GAAG,IAAI,EAAE;gBACf,GAAG,IAAI,GAAG,CAAC;aACZ;YAED,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;SAC1B;QAED,OAAO,GAAG,CAAC;IACb,CAAC;IAED,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC;CACrC,CAAC;AAEF;;GAEG;AACH,MAAM,CAAC,MAAM,cAAc,GAAG,CAAC,QAAyB,EAAE,EAAE;IAC1D,MAAM,OAAO,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC;IACnC,IAAI,CAAC,OAAO,EAAE;QACZ,MAAM,IAAI,KAAK,CAAC,oBAAoB,QAAQ,EAAE,CAAC,CAAC;KACjD;IAED,OAAO,OAAO,CAAC;AACjB,CAAC,CAAC","sourcesContent":["// A small collection of encodings for convenience of use in the browser.\n\nexport type BrowserEncoding = 'hex' | 'base64' | 'utf8';\n\nconst decoder = new TextDecoder();\n\nconst encoders: { [K in BrowserEncoding]: (data: Uint8Array) => string } = {\n  // certainly not the fastest, but hashes are pretty small\n  base64: (data) => btoa(String.fromCharCode(...data)),\n\n  hex: (data) => {\n    let out = '';\n    for (const byte of data) {\n      if (byte < 0x10) {\n        out += '0';\n      }\n\n      out += byte.toString(16);\n    }\n\n    return out;\n  },\n\n  utf8: (data) => decoder.decode(data),\n};\n\n/**\n * @hidden\n */\nexport const mustGetEncoder = (encoding: BrowserEncoding) => {\n  const encoder = encoders[encoding];\n  if (!encoder) {\n    throw new Error(`Unknown encoding ${encoding}`);\n  }\n\n  return encoder;\n};\n"]}