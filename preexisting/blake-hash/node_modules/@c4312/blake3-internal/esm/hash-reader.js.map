{"version":3,"file":"hash-reader.js","sourceRoot":"","sources":["../src/hash-reader.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;AACH,MAAM,CAAC,MAAM,YAAY,GAAG,EAAE,IAAI,GAAG,GAAG,EAAE,CAAC","sourcesContent":["/**\n * The maximum number of bytes that can be read from the hash.\n *\n * Calculated out 2^64-1, since `Xn` syntax (for `Xn ** Yn`) requires TS\n * targeting esnext/es2020 which includes features that Node 10 doesn't\n * yet supported.\n */\nexport const maxHashBytes = 2n ** 64n - 1n;\n\n/**\n * The HashReader is a type returned from any of the hash functions.\n *\n * You can use it as an iterator, but note that slices returned from the\n * iteration cannot be used outside. of where they were returned from.\n */\nexport interface IHashReader<T> extends Iterable<Readonly<Uint8Array>> {\n  /**\n   * Returns the position of the reader in the hash. Can be written to to seek.\n   */\n  position: bigint;\n\n  /**\n   * Reads data from the hash into the target array. The target will always\n   * be completely filled with data, unless the end of the hash bytes is\n   * reached. The number of written bytes is returned.\n   */\n  readInto(target: Uint8Array): number;\n\n  /**\n   * Reads and returns the given number of bytes from the hash, advancing\n   * the position of the reader.\n   */\n  read(bytes: number): T;\n\n  /**\n   * Returns a view of the given number of bytes from the reader. The view can\n   * be used synchronously, but must not be reused later. This is more\n   * efficient when using the webassembly version of the module.\n   *\n   * Fewer bytes may be returned than requested, if the number is large (>1MB).\n   */\n  view(bytes: number): Readonly<Uint8Array>;\n}\n"]}